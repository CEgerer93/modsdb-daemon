# modsdb-daemon

During production of pionPDF results on the cl21_32_64_b6p3_m0p2390_m0p2050 ensemble, attempts were made to open already generated mod files and append current/displacement combinations. This did not work, but the open mode when creating a mod file was not changed back to original correct form for further jobs. This led to millions of core hours worth of mod files being unreadable to the modsdb_daemon, as required header information/metadata in the mod files were either absent or corrupted. In particular, the address at top of mod file did not point to the key-value address map at the end of the mod file - specifically, the address may have been printed corrected but the lack of certain standard metadata led to bit shifts and thus the reader grabbing the wrong key-value map address.

This branch contains a salvage reader that reads in the corrupted/incorrect 2pt/4pt mod files, locates the correct key-value map address (known from trial and error bit by bit reads), reads the structures, then instantiates new mod files w/ the correct open mode & thus meta data, and writes out the structures.